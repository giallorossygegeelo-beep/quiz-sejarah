<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Quiz Sejarah Indonesia</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: linear-gradient(135deg, #1e3c72, #2a5298);
      color: white;
    }

    .box {
      background: rgba(0,0,0,0.75);
      padding: 30px;
      border-radius: 20px;
      width: 520px;
      text-align: center;
      box-shadow: 0 6px 15px rgba(0,0,0,0.4);
    }

    button {
      width: 100%;
      margin: 10px 0;
      padding: 12px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 15px;
    }

    button:hover { opacity: 0.85; }

    .menu-btn { background: white; color: black; }
    .next-btn { background: #00c6ff; color: white; }

    .options button { background: white; color: black; }

    .hidden { display: none; }

    input[type=range] { width: 100%; }

    #timer {
      font-size: 18px;
      margin: 10px 0;
      color: yellow;
    }

    .group {
      font-size: 14px;
      margin-bottom: 15px;
      color: #ddd;
      line-height: 1.5;
    }
  </style>
</head>
<body>

  <!-- SOUNDTRACK -->
  <audio id="bgMusic" loop>
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
  </audio>

  <!-- SOUND EFFECTS -->
  <audio id="correctSound">
    <source src="https://www.myinstants.com/media/sounds/correct.mp3" type="audio/mpeg">
  </audio>
  <audio id="wrongSound">
    <source src="https://www.myinstants.com/media/sounds/wrong-answer-sound-effect.mp3" type="audio/mpeg">
  </audio>

  <!-- MAIN MENU -->
  <div class="box" id="mainMenu">
    <h1>üéÆ Quiz Sejarah Indonesia</h1>

    <div class="group">
      <b>Nama Kelompok:</b><br>
      Rofika Afifatul M. (27)<br>
      Diardo Brigitta W. (05)<br>
      M. Irfan Daffa (14)
    </div>

    <p>Pilih tingkat kesulitan:</p>

    <button class="menu-btn" onclick="startGame('easy')">Mudah</button>
    <button class="menu-btn" onclick="startGame('medium')">Sedang</button>
    <button class="menu-btn" onclick="startGame('hard')">Sulit</button>

    <button class="next-btn" onclick="openSettings()">‚öôÔ∏è Settings</button>
  </div>

  <!-- SETTINGS MENU -->
  <div class="box hidden" id="settingsMenu">
    <h1>‚öôÔ∏è Pengaturan</h1>

    <p>Volume Musik:</p>
    <input type="range" min="0" max="1" step="0.1" value="0.5" onchange="setVolume(this.value)">

    <p>Pilih Bahasa:</p>
    <button class="menu-btn" onclick="setLanguage('id')">Indonesia</button>
    <button class="menu-btn" onclick="setLanguage('en')">English</button>
    <button class="menu-btn" onclick="setLanguage('ru')">–†—É—Å—Å–∫–∏–π</button>

    <button class="next-btn" onclick="backToMenu()">‚¨Ö Kembali</button>
  </div>

  <!-- QUIZ BOX -->
  <div class="box hidden" id="quizBox">
    <h1 id="title">üìö Quiz</h1>
    <p id="timer">‚è≥ Waktu: 05:00</p>
    <p id="question">Soal muncul di sini...</p>
    <div class="options" id="options"></div>
    <p id="result"></p>
    <p id="score">Skor: 0</p>
    <button class="next-btn" onclick="nextQuestion()">Soal Berikutnya</button>
    <button class="menu-btn" onclick="backHome()">üè† Kembali ke Menu</button>
  </div>

  <script>
    const music = document.getElementById("bgMusic");
    const correctSound = document.getElementById("correctSound");
    const wrongSound = document.getElementById("wrongSound");

    music.volume = 0.5;

    let language = "id";
    let timerInterval;
    let timeLeft = 300; // 5 minutes

    const texts = {
      id: { title: "Quiz Sejarah", correct: "‚úÖ Benar!", wrong: "‚ùå Salah! Jawaban: ", finish: "üéâ Quiz selesai! Skor akhir: " },
      en: { title: "History Quiz", correct: "‚úÖ Correct!", wrong: "‚ùå Wrong! Answer: ", finish: "üéâ Quiz finished! Final score: " },
      ru: { title: "–ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è –í–∏–∫—Ç–æ—Ä–∏–Ω–∞", correct: "‚úÖ –í–µ—Ä–Ω–æ!", wrong: "‚ùå –ù–µ–≤–µ—Ä–Ω–æ! –û—Ç–≤–µ—Ç: ", finish: "üéâ –í–∏–∫—Ç–æ—Ä–∏–Ω–∞ –æ–∫–æ–Ω—á–µ–Ω–∞! –ò—Ç–æ–≥–æ–≤—ã–π —Å—á–µ—Ç: " }
    };

    // 30 QUESTIONS (SAMPLE)
    function generateQuestions() {
      return [
        {id:"Proses interaksi antarindividu dalam masyarakat disebut...",en:"Interaction between individuals is called...",ru:"–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–µ–∂–¥—É –ª—é–¥—å–º–∏ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è...",options:["Adaptasi","Interaksi sosial","Modernisasi","Globalisasi"],answer:"Interaksi sosial"},
        {id:"Sumber daya alam yang tidak dapat diperbaharui adalah...",en:"Non-renewable natural resource is...",ru:"–ù–µ–≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º—ã–π —Ä–µ—Å—É—Ä—Å...",options:["Air","Hutan","Angin","Minyak bumi"],answer:"Minyak bumi"},
        {id:"Peta yang menunjukkan persebaran penduduk disebut...",en:"Map showing population distribution is...",ru:"–ö–∞—Ä—Ç–∞ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞—Å–µ–ª–µ–Ω–∏—è...",options:["Peta tematik","Peta topografi","Peta dunia","Peta politik"],answer:"Peta tematik"},
        {id:"Kegiatan ekonomi sektor primer adalah...",en:"Primary sector economic activity is...",ru:"–ü–µ—Ä–≤–∏—á–Ω—ã–π —Å–µ–∫—Ç–æ—Ä —ç–∫–æ–Ω–æ–º–∏–∫–∏...",options:["Pertanian","Industri","Perdagangan","Jasa"],answer:"Pertanian"},
        {id:"Tujuan utama kerja sama ASEAN adalah...",en:"Main goal of ASEAN cooperation is...",ru:"–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å –ê–°–ï–ê–ù...",options:["Perang","Meningkatkan kesejahteraan","Penjajahan","Memisahkan negara"],answer:"Meningkatkan kesejahteraan"},
        {id:"Sungai terpanjang di Indonesia adalah...",en:"Longest river in Indonesia is...",ru:"–°–∞–º–∞—è –¥–ª–∏–Ω–Ω–∞—è —Ä–µ–∫–∞...",options:["Musi","Kapuas","Bengawan Solo","Mahakam"],answer:"Kapuas"},
        {id:"Masa manusia sebelum mengenal tulisan disebut...",en:"Era before writing is called...",ru:"–≠–ø–æ—Ö–∞ –¥–æ –ø–∏—Å—å–º–µ–Ω–Ω–æ—Å—Ç–∏...",options:["Sejarah","Praaksara","Modern","Kolonial"],answer:"Praaksara"},
        {id:"Kerajaan Islam pertama di Indonesia adalah...",en:"First Islamic kingdom in Indonesia was...",ru:"–ü–µ—Ä–≤–æ–µ –∏—Å–ª–∞–º—Å–∫–æ–µ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ...",options:["Demak","Mataram","Majapahit","Samudra Pasai"],answer:"Samudra Pasai"},
        {id:"Garis yang membatasi flora Indonesia Barat dan Tengah adalah...",en:"Line dividing West and Central flora is...",ru:"–õ–∏–Ω–∏—è —Ä–∞–∑–¥–µ–ª–∞ —Ñ–ª–æ—Ä—ã...",options:["Wallace","Weber","Khatulistiwa","Meridian"],answer:"Wallace"},
        {id:"Manusia berburu dan meramu biasanya hidup...",en:"Hunter-gatherers usually lived...",ru:"–û—Ö–æ—Ç–Ω–∏–∫–∏-—Å–æ–±–∏—Ä–∞—Ç–µ–ª–∏ –∂–∏–ª–∏...",options:["Menetap","Berpindah-pindah","Di kota","Di istana"],answer:"Berpindah-pindah"},
        {id:"Peninggalan masa Megalitikum adalah...",en:"Megalithic relic is...",ru:"–ú–µ–≥–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–π –ø–∞–º—è—Ç–Ω–∏–∫...",options:["Candi","Dolmen","Kereta","Istana"],answer:"Dolmen"},
        {id:"Ciri masa sejarah adalah adanya...",en:"Characteristic of historical era is...",ru:"–ü—Ä–∏–∑–Ω–∞–∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–æ–π —ç–ø–æ—Ö–∏...",options:["Api","Tulisan","Kapak","Gua"],answer:"Tulisan"},
        {id:"Ilmu sejarah mempelajari...",en:"History studies...",ru:"–ò—Å—Ç–æ—Ä–∏—è –∏–∑—É—á–∞–µ—Ç...",options:["Masa depan","Peristiwa masa lalu","Cuaca","Matematika"],answer:"Peristiwa masa lalu"},
        {id:"Kerajaan maritim besar di Sumatra adalah...",en:"Great maritime kingdom in Sumatra was...",ru:"–ú–æ—Ä—Å–∫–æ–µ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ –Ω–∞ –°—É–º–∞—Ç—Ä–µ...",options:["Sriwijaya","Kutai","Tarumanegara","Mataram"],answer:"Sriwijaya"},
        {id:"Sumpah Pemuda terjadi pada tahun...",en:"Youth Pledge happened in...",ru:"–ö–ª—è—Ç–≤–∞ –º–æ–ª–æ–¥–µ–∂–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –≤...",options:["1908","1928","1945","1965"],answer:"1928"},
        {id:"Konferensi Asia Afrika berlangsung di kota...",en:"Asian-African Conference held in...",ru:"–ö–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏–ª–∞ –≤...",options:["Bandung","Jakarta","Medan","Surabaya"],answer:"Bandung"},
        {id:"Tokoh Majapahit dengan Sumpah Palapa adalah...",en:"Majapahit figure with Palapa Oath was...",ru:"–ö–ª—è—Ç–≤—É –ü–∞–ª–∞–ø–∞ –¥–∞–ª...",options:["Gajah Mada","Diponegoro","Kartini","Pattimura"],answer:"Gajah Mada"},
        {id:"Kegiatan ekonomi sektor tersier adalah...",en:"Tertiary sector activity is...",ru:"–¢—Ä–µ—Ç–∏—á–Ω—ã–π —Å–µ–∫—Ç–æ—Ä...",options:["Pertanian","Tambang","Jasa","Perkebunan"],answer:"Jasa"},
        {id:"Indonesia secara geografis adalah negara...",en:"Geographically Indonesia is a...",ru:"–ì–µ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ –ò–Ω–¥–æ–Ω–µ–∑–∏—è...",options:["Benua","Kepulauan","Padang pasir","Kutub"],answer:"Kepulauan"},
        {id:"Tujuan kerja sama antarwilayah adalah...",en:"Purpose of regional cooperation is...",ru:"–¶–µ–ª—å —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–∞ —Ä–µ–≥–∏–æ–Ω–æ–≤...",options:["Bersaing","Saling bantu sumber daya","Menjajah","Memisahkan"],answer:"Saling bantu sumber daya"},
        {id:"Kerajaan Hindu-Buddha terbesar di Jawa adalah...",en:"Largest Hindu-Buddhist kingdom in Java was...",ru:"–ö—Ä—É–ø–Ω–µ–π—à–µ–µ –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ –Ω–∞ –Ø–≤–µ...",options:["Majapahit","Demak","Aceh","Ternate"],answer:"Majapahit"},
        {id:"Tokoh pahlawan dari Maluku adalah...",en:"Hero from Maluku is...",ru:"–ì–µ—Ä–æ–π —Å –ú–∞–ª—É–∫—É...",options:["Pattimura","Kartini","Sudirman","Habibie"],answer:"Pattimura"},
        {id:"Sumber daya alam hayati contohnya...",en:"Biotic natural resource example...",ru:"–ë–∏–æ—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—É—Ä—Å...",options:["Minyak","Emas","Hewan","Batu bara"],answer:"Hewan"},
        {id:"Garis bujur menghubungkan...",en:"Longitude lines connect...",ru:"–î–æ–ª–≥–æ—Ç–∞ —Å–æ–µ–¥–∏–Ω—è–µ—Ç...",options:["Barat-Timur","Kutub Utara-Selatan","Gunung","Laut"],answer:"Kutub Utara-Selatan"},
        {id:"Kontak sosial primer contohnya...",en:"Primary social contact example...",ru:"–ü—Ä–∏–º–µ—Ä –ø—Ä—è–º–æ–≥–æ –∫–æ–Ω—Ç–∞–∫—Ç–∞...",options:["SMS","Bertemu langsung","Email","Telepon"],answer:"Bertemu langsung"},
        {id:"Permintaan efektif bila...",en:"Demand is effective if...",ru:"–°–ø—Ä–æ—Å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω –µ—Å–ª–∏...",options:["Ada kemampuan membeli","Tidak ada uang","Tidak butuh","Gratis"],answer:"Ada kemampuan membeli"},
        {id:"Kerajaan Kutai terletak di...",en:"Kutai kingdom located in...",ru:"–ö–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–æ –ö—É—Ç–∞–π...",options:["Kalimantan","Sumatra","Jawa","Bali"],answer:"Kalimantan"},
        {id:"Peta topografi menunjukkan...",en:"Topographic map shows...",ru:"–¢–æ–ø–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –∫–∞—Ä—Ç–∞...",options:["Relief permukaan","Cuaca","Politik","Penduduk"],answer:"Relief permukaan"},
        {id:"Proklamasi kemerdekaan Indonesia dibacakan pada...",en:"Independence proclamation was read on...",ru:"–ü—Ä–æ–≤–æ–∑–≥–ª–∞—à–µ–Ω–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏...",options:["17 Agustus 1945","10 November 1945","20 Mei 1908","1 Juni 1945"],answer:"17 Agustus 1945"}
      ];
    }

    const quizLevels = {
      easy: generateQuestions(),
      medium: generateQuestions(),
      hard: generateQuestions()
    };

    let questions = [];
    let current = 0;
    let score = 0;

    function startGame(level) {
      questions = quizLevels[level];
      current = 0;
      score = 0;
      timeLeft = 300;

      document.getElementById("mainMenu").classList.add("hidden");
      document.getElementById("quizBox").classList.remove("hidden");

      music.play();
      startTimer();
      loadQuestion();
    }

    function startTimer() {
      clearInterval(timerInterval);
      timerInterval = setInterval(() => {
        timeLeft--;
        let minutes = String(Math.floor(timeLeft / 60)).padStart(2, '0');
        let seconds = String(timeLeft % 60).padStart(2, '0');
        document.getElementById("timer").textContent = `‚è≥ Waktu: ${minutes}:${seconds}`;

        if (timeLeft <= 0) {
          clearInterval(timerInterval);
          endGame("‚è∞ Waktu habis!");
        }
      }, 1000);
    }

    function loadQuestion() {
      document.getElementById("title").textContent = texts[language].title;
      document.getElementById("result").textContent = "";

      const qData = questions[current];
      document.getElementById("question").textContent = qData[language];

      const optionsDiv = document.getElementById("options");
      optionsDiv.innerHTML = "";

      qData.options.forEach(option => {
        const btn = document.createElement("button");
        btn.textContent = option;
        btn.onclick = () => checkAnswer(option);
        optionsDiv.appendChild(btn);
      });

      document.getElementById("score").textContent = "Skor: " + score;
    }

    function checkAnswer(selected) {
      const correct = questions[current].answer;

      if (selected === correct) {
        correctSound.play();
        document.getElementById("result").textContent = texts[language].correct;
        score++;
      } else {
        wrongSound.play();
        document.getElementById("result").textContent = texts[language].wrong + correct;
      }

      document.getElementById("score").textContent = "Skor: " + score;
    }

    function nextQuestion() {
      current++;
      if (current >= questions.length) {
        endGame(texts[language].finish);
        return;
      }
      loadQuestion();
    }

    function endGame(msg) {
      clearInterval(timerInterval);
      document.getElementById("quizBox").innerHTML =
        `<h1>${msg}</h1><p>Skor akhir: ${score} / ${questions.length}</p>
         <button class='menu-btn' onclick='location.reload()'>üè† Back Home</button>`;
    }

    function openSettings() {
      document.getElementById("mainMenu").classList.add("hidden");
      document.getElementById("settingsMenu").classList.remove("hidden");
    }

    function backToMenu() {
      document.getElementById("settingsMenu").classList.add("hidden");
      document.getElementById("mainMenu").classList.remove("hidden");
    }

    function backHome() { location.reload(); }

    function setVolume(val) { music.volume = val; }

    function setLanguage(lang) { language = lang; alert("Language changed!"); }
  </script>

</body>
</html>
